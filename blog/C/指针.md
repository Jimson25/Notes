### C语言指针



#### 一、

#### 二、指针数组和数组指针

##### 1. 指针数组

- `int *p[10]`表示指针数组。指针数组是一个数组，数组元素是指针。这里`int`类型的指针数组，包含10个元素，每个元素类型都是int类型的指针。

- 在C语言中，数组的定义为`type arrayName [ arraySize ]`，在指针数组中类型为`int*`，为了便于理解，我们可以将上面的定义方式写成`int* p[10]`，这种写法在编译器中是不会报错的，运行结果也等同于前面的定义方式，而且可以直观看出数组类型为`int*`，数组名为`p`。但是这种方式在开发环境中自动格式化的时候会被修改成前面的样子。

  ```c
  /**
   * 这里的p是一个指针数组，它的每一个元素都是指针，
   * 在下面的例子中，假设我们要获取到'lisi'这个字符串，
   * 那么首先我们需要使用p[1]来获取第二个元素的值，这个值是指向'lisi'这个字符数组的指针
   * 如果我们需要输出这个字符串，只需要以字符串的形式打印这个地址即可。
   * 而这里如果我们使用`*p[1]`来输出，那么打印的就是对应字符数组的第一个元素
   */
  void pointArray() {
      char c1[] = "gongsunli";
  
      char *p[5] = {
              c1,
              "lisi",
              "wangwu",
              "zhaoliu",
              "zhangmazi"
      };
  
      for (int i = 0; i < 5; ++i) {
          printf("%s\n", p[i]);
      }
  }
  ```

  

##### 2. 数组指针

- `int (*p)[5]`表示一个数组指针。数组指针是一个指向数组的指针，它指向的是一个数组。初始化方式和定义的`int`指针一样的，先定义一个数组，取这个数组的地址赋值给数组指针。

  ```c
  void arrayPoint() {
      int arr[] = {1, 2, 3, 4, 5};
      // 这里的p是指向一个int的指针，它实际上不是指向int数组，而是指向数组的第一个元素的地址值。
      // 数组的第一个元素的地址等于数组名等于数组的地址
      int *p = arr;
  
      // 这里的数组指针是指向数组的指针，也就是说指针变量里面保存的是数组的地址值，所以在初始化的时候我们需要对数组取地址。
      int (*ptr)[5] = &arr;
  
      for (int i = 0; i < 5; ++i) {
          printf("%d\n", *(*ptr + i));
      }
  
  }
  ```

  